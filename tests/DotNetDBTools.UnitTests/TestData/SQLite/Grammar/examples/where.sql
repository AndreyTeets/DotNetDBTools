-- ===where.test===
CREATE TABLE t1(w int, x int, y int);
CREATE TABLE t2(p int, q int, r int, s int);

SELECT count(*) FROM t1 WHERE t1.w;

CREATE TABLE t3(a,b,c);
CREATE INDEX t3a ON t3(a);
CREATE INDEX t3bc ON t3(b,c);
CREATE INDEX t3acb ON t3(a,c,b);
INSERT INTO t3 SELECT w, 101-w, y FROM t1;
SELECT count(*), sum(a), sum(b), sum(c) FROM t3;

CREATE TABLE t4 AS SELECT * FROM t1;
CREATE INDEX i4xy ON t4(x,y);

DELETE FROM t4;

CREATE TABLE t5(x PRIMARY KEY);
SELECT * FROM t5 WHERE x<10;

SELECT * FROM t5 WHERE x<10 ORDER BY x DESC;

SELECT * FROM t5 WHERE x=10;

SELECT 1 WHERE abs(random())<0;

SELECT count(*) FROM t1 WHERE tclvar('v1');

SELECT count(*) FROM t1 WHERE tclvar('v1');

INSERT INTO t2 SELECT 101-w, x, (SELECT max(y) FROM t1)+1-y, y FROM t1;

SELECT count(*) FROM t1 WHERE tclvar('v1');

CREATE TABLE t99(Dte INT, X INT);
DELETE FROM t99 WHERE (Dte = 2451337) OR (Dte = 2451339) OR
(Dte BETWEEN 2451345 AND 2451347) OR (Dte = 2451351) OR 
(Dte BETWEEN 2451355 AND 2451356) OR (Dte = 2451358) OR
(Dte = 2451362) OR (Dte = 2451365) OR (Dte = 2451367) OR
(Dte BETWEEN 2451372 AND 2451376) OR (Dte BETWEEN 2451382 AND 2451384) OR
(Dte = 2451387) OR (Dte BETWEEN 2451389 AND 2451391) OR 
(Dte BETWEEN 2451393 AND 2451395) OR (Dte = 2451400) OR 
(Dte = 2451402) OR (Dte = 2451404) OR (Dte BETWEEN 2451416 AND 2451418) OR 
(Dte = 2451422) OR (Dte = 2451426) OR (Dte BETWEEN 2451445 AND 2451446) OR
(Dte = 2451456) OR (Dte = 2451458) OR (Dte BETWEEN 2451465 AND 2451467) OR
(Dte BETWEEN 2451469 AND 2451471) OR (Dte = 2451474) OR
(Dte BETWEEN 2451477 AND 2451501) OR (Dte BETWEEN 2451503 AND 2451509) OR
(Dte BETWEEN 2451511 AND 2451514) OR (Dte BETWEEN 2451518 AND 2451521) OR
(Dte BETWEEN 2451523 AND 2451531) OR (Dte BETWEEN 2451533 AND 2451537) OR
(Dte BETWEEN 2451539 AND 2451544) OR (Dte BETWEEN 2451546 AND 2451551) OR
(Dte BETWEEN 2451553 AND 2451555) OR (Dte = 2451557) OR
(Dte BETWEEN 2451559 AND 2451561) OR (Dte = 2451563) OR
(Dte BETWEEN 2451565 AND 2451566) OR (Dte BETWEEN 2451569 AND 2451571) OR 
(Dte = 2451573) OR (Dte = 2451575) OR (Dte = 2451577) OR (Dte = 2451581) OR
(Dte BETWEEN 2451583 AND 2451586) OR (Dte BETWEEN 2451588 AND 2451592) OR 
(Dte BETWEEN 2451596 AND 2451598) OR (Dte = 2451600) OR
(Dte BETWEEN 2451602 AND 2451603) OR (Dte = 2451606) OR (Dte = 2451611);

CREATE TABLE t6(a INTEGER PRIMARY KEY, b TEXT);
INSERT INTO t6 VALUES(1,'one');
INSERT INTO t6 VALUES(4,'four');
CREATE INDEX t6i1 ON t6(b);

CREATE TABLE t7(a INTEGER PRIMARY KEY, b TEXT);
INSERT INTO t7 VALUES(1,'one');
INSERT INTO t7 VALUES(4,'four');
CREATE INDEX t7i1 ON t7(b);

CREATE TABLE t8(a INTEGER PRIMARY KEY, b TEXT UNIQUE);
INSERT INTO t8 VALUES(1,'one');
INSERT INTO t8 VALUES(4,'four');

CREATE TEMP TABLE t1 (a, b, c, d, e);
CREATE TEMP TABLE t2 (f);
SELECT t1.e AS alias FROM t2, t1 WHERE alias = 1 ;

CREATE TABLE a1(id INTEGER PRIMARY KEY, v);
CREATE TABLE a2(id INTEGER PRIMARY KEY, v);
INSERT INTO a1 VALUES(1, 'one');
INSERT INTO a1 VALUES(2, 'two');
INSERT INTO a2 VALUES(1, 'one');
INSERT INTO a2 VALUES(2, 'two');

SELECT * FROM a2 CROSS JOIN a1 WHERE a1.id=1 AND a1.v='one';

CREATE TEMP TABLE foo(idx INTEGER);
INSERT INTO foo VALUES(1);
INSERT INTO foo VALUES(1);
INSERT INTO foo VALUES(1);
INSERT INTO foo VALUES(2);
INSERT INTO foo VALUES(2);
CREATE TEMP TABLE bar(stuff INTEGER);
INSERT INTO bar VALUES(100);
INSERT INTO bar VALUES(200);
INSERT INTO bar VALUES(300);

SELECT bar.RowID id FROM foo, bar WHERE foo.idx = bar.RowID AND id = 2;

select max(y) from t1;

CREATE TABLE tbooking (
id INTEGER PRIMARY KEY,
eventtype INTEGER NOT NULL
);
INSERT INTO tbooking VALUES(42, 3);
INSERT INTO tbooking VALUES(43, 4);

SELECT a.id
FROM tbooking AS a
WHERE a.eventtype=3;

SELECT a.id, (SELECT b.id FROM tbooking AS b WHERE b.id>a.id)
FROM tbooking AS a
WHERE a.eventtype=3;

SELECT a.id, (SELECT b.id FROM tbooking AS b WHERE b.id>a.id)
FROM (SELECT 1.5 AS id) AS a;

CREATE TABLE tother(a, b);
INSERT INTO tother VALUES(1, 3.7);
SELECT id, a FROM tbooking, tother WHERE id>a;

CREATE INDEX i1w ON t1(w);
CREATE INDEX i1xy ON t1(x,y);
CREATE INDEX i2p ON t2(p);
CREATE INDEX i2r ON t2(r);
CREATE INDEX i2qs ON t2(q, s);

SELECT x, y, w FROM t1 WHERE +w=10;

SELECT 99 WHERE 0;

SELECT 99 WHERE 1;

SELECT 99 WHERE 0.1;

SELECT 99 WHERE 0.0;

-- ===where2.test===
BEGIN;
CREATE TABLE t1(w int, x int, y int, z int);

SELECT w FROM t1
WHERE x IN (SELECT x FROM tx WHERE rowid=1)
AND y IN (SELECT y FROM tx WHERE rowid<0);

CREATE INDEX tx_xyz ON tx(x, y, z, w);
SELECT w FROM tx
WHERE x IN (SELECT x FROM t1 WHERE w BETWEEN 10 AND 20)
AND y IN (SELECT y FROM t1 WHERE w BETWEEN 10 AND 20)
AND z IN (SELECT z FROM t1 WHERE w BETWEEN 12 AND 14);

SELECT w FROM tx
WHERE x IN (SELECT x FROM t1 WHERE w BETWEEN 10 AND 20)
AND y IN (SELECT y FROM t1 WHERE w BETWEEN 12 AND 14)
AND z IN (SELECT z FROM t1 WHERE w BETWEEN 10 AND 20);

SELECT w FROM tx
WHERE x IN (SELECT x FROM t1 WHERE w BETWEEN 12 AND 14)
AND y IN (SELECT y FROM t1 WHERE w BETWEEN 10 AND 20)
AND z IN (SELECT z FROM t1 WHERE w BETWEEN 10 AND 20);

SELECT w FROM tx
WHERE x IN (SELECT x FROM t1 WHERE w BETWEEN 10 AND 20)
AND y IN (SELECT y FROM t1 WHERE w BETWEEN 10 AND 20)
AND z IN (SELECT z FROM t1 WHERE w BETWEEN 10 AND 20);

SELECT w FROM tx
WHERE x IN (SELECT x FROM t1 WHERE w BETWEEN 10 AND 20)
AND y IN (SELECT y FROM t1 WHERE w BETWEEN 10 AND 20)
AND z IN (SELECT z FROM t1 WHERE w BETWEEN 2 AND 4);

SELECT w FROM tx
WHERE x IN (SELECT x FROM t1 WHERE w BETWEEN 10 AND 20)
AND y IN (SELECT y FROM t1 WHERE w BETWEEN 2 AND 4)
AND z IN (SELECT z FROM t1 WHERE w BETWEEN 10 AND 20);

SELECT w FROM tx
WHERE x IN (SELECT x FROM t1 WHERE w BETWEEN 2 AND 4)
AND y IN (SELECT y FROM t1 WHERE w BETWEEN 10 AND 20)
AND z IN (SELECT z FROM t1 WHERE w BETWEEN 10 AND 20);

SELECT w FROM tx
WHERE x IN (SELECT x FROM t1 WHERE w BETWEEN 10 AND 20)
AND y IN (SELECT y FROM t1 WHERE w BETWEEN 10 AND 20)
AND z IN (SELECT z FROM t1 WHERE w BETWEEN -4 AND -2);

SELECT w FROM tx
WHERE x IN (SELECT x FROM t1 WHERE w BETWEEN 10 AND 20)
AND y IN (SELECT y FROM t1 WHERE w BETWEEN -4 AND -2)
AND z IN (SELECT z FROM t1 WHERE w BETWEEN 10 AND 20);

INSERT INTO t1 VALUES(w,x,y,z);

SELECT w FROM tx
WHERE x IN (SELECT x FROM t1 WHERE w BETWEEN -4 AND -2)
AND y IN (SELECT y FROM t1 WHERE w BETWEEN 10 AND 20)
AND z IN (SELECT z FROM t1 WHERE w BETWEEN 10 AND 20);

SELECT w FROM tx
WHERE x IN (SELECT x FROM t1 WHERE w BETWEEN 10 AND 20)
AND y IN (SELECT y FROM t1 WHERE w BETWEEN 10 AND 20)
AND z IN (SELECT z FROM t1 WHERE w BETWEEN 200 AND 300);

SELECT w FROM tx
WHERE x IN (SELECT x FROM t1 WHERE w BETWEEN 10 AND 20)
AND y IN (SELECT y FROM t1 WHERE w BETWEEN 200 AND 300)
AND z IN (SELECT z FROM t1 WHERE w BETWEEN 10 AND 20);

SELECT w FROM tx
WHERE x IN (SELECT x FROM t1 WHERE w BETWEEN 200 AND 300)
AND y IN (SELECT y FROM t1 WHERE w BETWEEN 10 AND 20)
AND z IN (SELECT z FROM t1 WHERE w BETWEEN 10 AND 20);

SELECT w FROM tx
WHERE x IN (SELECT x FROM t1 WHERE +w BETWEEN 10 AND 20)
AND y IN (SELECT y FROM t1 WHERE +w BETWEEN 10 AND 20)
AND z IN (SELECT z FROM t1 WHERE +w BETWEEN 200 AND 300);

SELECT w FROM tx
WHERE x IN (SELECT x FROM t1 WHERE +w BETWEEN 10 AND 20)
AND y IN (SELECT y FROM t1 WHERE +w BETWEEN 200 AND 300)
AND z IN (SELECT z FROM t1 WHERE +w BETWEEN 10 AND 20);

SELECT w FROM tx
WHERE x IN (SELECT x FROM t1 WHERE +w BETWEEN 200 AND 300)
AND y IN (SELECT y FROM t1 WHERE +w BETWEEN 10 AND 20)
AND z IN (SELECT z FROM t1 WHERE +w BETWEEN 10 AND 20);

BEGIN;
CREATE TABLE t10(a,b,c);
INSERT INTO t10 VALUES(1,1,1);
INSERT INTO t10 VALUES(1,2,2);
INSERT INTO t10 VALUES(1,3,3);

INSERT INTO t10 VALUES(1,i,i);

CREATE INDEX i10 ON t10(a,b);
COMMIT;
SELECT count(*) FROM t10;

INSERT INTO t1 VALUES(:w,:x,:y,:z);

CREATE TABLE t11(a,b,c,d);
CREATE INDEX i11aba ON t11(a,b,a,c); INSERT INTO t11 VALUES(1,2,3,4);
INSERT INTO t11 VALUES(5,6,7,8);
INSERT INTO t11 VALUES(1,2,9,10);
INSERT INTO t11 VALUES(5,11,12,13);
SELECT c FROM t11 WHERE a=1 AND b=2 ORDER BY c;

CREATE INDEX i11cccccccc ON t11(c,c,c,c,c,c,c,c); SELECT d FROM t11 WHERE c=9;

SELECT d FROM t11 WHERE c IN (1,2,3,4,5);

SELECT d FROM t11 WHERE c=7 OR (a=1 AND b=2) ORDER BY d;

CREATE UNIQUE INDEX i1w ON t1(w);
CREATE INDEX i1xy ON t1(x,y);
CREATE INDEX i1zyx ON t1(z,y,x);
COMMIT;

CREATE TABLE t2249a(a TEXT UNIQUE);
CREATE TABLE t2249b(b INTEGER);
INSERT INTO t2249a VALUES('0123');
INSERT INTO t2249b VALUES(123);

SELECT * FROM t1 WHERE x IN (20,21) AND y IN (1,2);

SELECT * FROM t1 WHERE x IN (1,2) AND y IN (-5,-6);

CREATE TABLE tx AS SELECT * FROM t1;

SELECT w FROM t1
WHERE x IN (SELECT x FROM tx WHERE rowid<0)
AND +y IN (SELECT y FROM tx WHERE rowid=1);

-- ===where3.test===
CREATE TABLE t1(a, b);
CREATE TABLE t2(p, q);
CREATE TABLE t3(x, y);
INSERT INTO t1 VALUES(111,'one');
INSERT INTO t1 VALUES(222,'two');
INSERT INTO t1 VALUES(333,'three');
INSERT INTO t2 VALUES(1,111);
INSERT INTO t2 VALUES(2,222);
INSERT INTO t2 VALUES(4,444);
CREATE INDEX t2i1 ON t2(p);
INSERT INTO t3 VALUES(999,'nine');
CREATE INDEX t3i1 ON t3(x);
SELECT * FROM t1, t2 LEFT JOIN t3 ON q=x WHERE p=2 AND a=q;

CREATE TABLE parent1(parent1key, child1key, Child2key, child3key);
CREATE TABLE child1 ( child1key NVARCHAR, value NVARCHAR );
CREATE UNIQUE INDEX PKIDXChild1 ON child1 ( child1key );
CREATE TABLE child2 ( child2key NVARCHAR, value NVARCHAR );
INSERT INTO parent1(parent1key,child1key,child2key)
VALUES ( 1, 'C1.1', 'C2.1' );
INSERT INTO child1 ( child1key, value ) VALUES ( 'C1.1', 'Value for C1.1' );
INSERT INTO child2 ( child2key, value ) VALUES ( 'C2.1', 'Value for C2.1' );
INSERT INTO parent1 ( parent1key, child1key, child2key )
VALUES ( 2, 'C1.2', 'C2.2' );
INSERT INTO child2 ( child2key, value ) VALUES ( 'C2.2', 'Value for C2.2' );
INSERT INTO parent1 ( parent1key, child1key, child2key )
VALUES ( 3, 'C1.3', 'C2.3' );
INSERT INTO child1 ( child1key, value ) VALUES ( 'C1.3', 'Value for C1.3' );
INSERT INTO child2 ( child2key, value ) VALUES ( 'C2.3', 'Value for C2.3' );
SELECT parent1.parent1key, child1.value, child2.value
FROM parent1
LEFT OUTER JOIN child1 ON child1.child1key = parent1.child1key
INNER JOIN child2 ON child2.child2key = parent1.child2key;

CREATE TABLE tA(apk integer primary key, ax);
CREATE TABLE tB(bpk integer primary key, bx);
CREATE TABLE tC(cpk integer primary key, cx);
CREATE TABLE tD(dpk integer primary key, dx);

-- ===where4.test===
CREATE TABLE t1(w, x, y);
CREATE INDEX i1wxy ON t1(w,x,y);
INSERT INTO t1 VALUES(1,2,3);
INSERT INTO t1 VALUES(1,NULL,3);
INSERT INTO t1 VALUES('a','b','c');
INSERT INTO t1 VALUES('a',NULL,'c');
INSERT INTO t1 VALUES(X'78',x'79',x'7a');
INSERT INTO t1 VALUES(X'78',NULL,X'7A');
INSERT INTO t1 VALUES(NULL,NULL,NULL);
SELECT count(*) FROM t1;

SELECT * FROM test t1 LEFT OUTER JOIN test2 t2 ON t1.col1 = t2.col1
WHERE t1.col1 IS NULL;

CREATE TABLE t4(x,y,z,PRIMARY KEY(x,y));

SELECT *
FROM t2 LEFT JOIN t4 b1
LEFT JOIN t4 b2 ON b2.x=b1.x AND b2.y IN (b1.y);

INSERT INTO t4 VALUES(1,1,11);
INSERT INTO t4 VALUES(1,2,12);
INSERT INTO t4 VALUES(1,3,13);
INSERT INTO t4 VALUES(2,2,22);
SELECT rowid FROM t4 WHERE x IN (1,9,2,5) AND y IN (1,3,NULL,2) AND z!=13;

SELECT rowid FROM t4 WHERE x IN (1,9,NULL,2) AND y IN (1,3,2) AND z!=13;

CREATE TABLE t5(a,b,c,d,e,f,UNIQUE(a,b,c,d,e,f));
INSERT INTO t5 VALUES(1,1,1,1,1,11111);
INSERT INTO t5 VALUES(2,2,2,2,2,22222);
INSERT INTO t5 VALUES(1,2,3,4,5,12345);
INSERT INTO t5 VALUES(2,3,4,5,6,23456);

SELECT rowid FROM t5
WHERE a IN (1,9,2) AND b=2 AND c IN (1,2,3,4) AND d>0;

SELECT rowid FROM t5
WHERE a IN (1,NULL,2) AND b=2 AND c IN (1,2,3,4) AND d>0;

CREATE TABLE t6(y,z,PRIMARY KEY(y,z));

SELECT * FROM t6 WHERE y=NULL AND z IN ('hello');

SELECT rowid FROM t1 ORDER BY w, x, y;

BEGIN;
CREATE TABLE t8(a, b, c, d);
CREATE INDEX t8_i ON t8(a, b, c);
CREATE TABLE t7(i);
INSERT INTO t7 VALUES(1);
INSERT INTO t7 SELECT i*2 FROM t7;
INSERT INTO t7 SELECT i*2 FROM t7;
INSERT INTO t7 SELECT i*2 FROM t7;
INSERT INTO t7 SELECT i*2 FROM t7;
INSERT INTO t7 SELECT i*2 FROM t7;
INSERT INTO t7 SELECT i*2 FROM t7;
COMMIT;

SELECT sum((
SELECT d FROM t8 WHERE a = i AND b = i AND c < NULL
)) FROM t7;

SELECT rowid FROM t1 ORDER BY w DESC, x, y;

SELECT rowid FROM t1 ORDER BY w, x DESC, y;

CREATE TABLE t2(a);
INSERT INTO t2 VALUES(1);
INSERT INTO t2 VALUES(2);
INSERT INTO t2 VALUES(3);
CREATE TABLE t3(x,y,UNIQUE(x,y));
INSERT INTO t3 VALUES(1,11);
INSERT INTO t3 VALUES(2,NULL);
SELECT * FROM t2 LEFT JOIN t3 ON a=x WHERE +y IS NULL;

SELECT * FROM t2 LEFT JOIN t3 ON a=x WHERE y IS NULL;

CREATE TABLE test(col1 TEXT PRIMARY KEY);
INSERT INTO test(col1) values('a');
INSERT INTO test(col1) values('b');
INSERT INTO test(col1) values('c');
CREATE TABLE test2(col1 TEXT PRIMARY KEY);
INSERT INTO test2(col1) values('a');
INSERT INTO test2(col1) values('b');
INSERT INTO test2(col1) values('c');
SELECT * FROM test t1 LEFT OUTER JOIN test2 t2 ON t1.col1 = t2.col1
WHERE +t2.col1 IS NULL;

SELECT * FROM test t1 LEFT OUTER JOIN test2 t2 ON t1.col1 = t2.col1
WHERE t2.col1 IS NULL;

SELECT * FROM test t1 LEFT OUTER JOIN test2 t2 ON t1.col1 = t2.col1
WHERE +t1.col1 IS NULL;

-- ===where5.test===
CREATE TABLE t1(x TEXT);
CREATE TABLE t2(x INTEGER);
CREATE TABLE t3(x INTEGER PRIMARY KEY);
INSERT INTO t1 VALUES(-1);
INSERT INTO t1 VALUES(0);
INSERT INTO t1 VALUES(1);
INSERT INTO t2 SELECT * FROM t1;
INSERT INTO t3 SELECT * FROM t2;

SELECT * FROM t1 WHERE x=NULL;

SELECT * FROM t1 WHERE x>=NULL;

SELECT * FROM t1 WHERE x>NULL;

SELECT * FROM t1 WHERE x!=NULL;

SELECT * FROM t1 WHERE x IS NULL;

SELECT * FROM t1 WHERE x IS NOT NULL;

SELECT * FROM t2 WHERE x<0;

SELECT * FROM t2 WHERE x<=0;

SELECT * FROM t2 WHERE x=0;

SELECT * FROM t2 WHERE x>=0;

SELECT * FROM t1 WHERE x<0;

SELECT * FROM t2 WHERE x>0;

SELECT * FROM t2 WHERE x<>0;

SELECT * FROM t2 WHERE x<NULL;

SELECT * FROM t2 WHERE x<=NULL;

SELECT * FROM t2 WHERE x=NULL;

SELECT * FROM t2 WHERE x>=NULL;

SELECT * FROM t2 WHERE x>NULL;

SELECT * FROM t2 WHERE x!=NULL;

SELECT * FROM t2 WHERE x IS NULL;

SELECT * FROM t2 WHERE x IS NOT NULL;

SELECT * FROM t1 WHERE x<=0;

SELECT * FROM t3 WHERE x<0;

SELECT * FROM t3 WHERE x<=0;

SELECT * FROM t3 WHERE x=0;

SELECT * FROM t3 WHERE x>=0;

SELECT * FROM t3 WHERE x>0;

SELECT * FROM t3 WHERE x<>0;

SELECT * FROM t3 WHERE x<NULL;

SELECT * FROM t3 WHERE x<=NULL;

SELECT * FROM t3 WHERE x=NULL;

SELECT * FROM t3 WHERE x>=NULL;

SELECT * FROM t1 WHERE x=0;

SELECT * FROM t3 WHERE x>NULL;

SELECT * FROM t3 WHERE x!=NULL;

SELECT * FROM t3 WHERE x IS NULL;

SELECT * FROM t3 WHERE x IS NOT NULL;

SELECT x<NULL FROM t3;

SELECT x<=NULL FROM t3;

SELECT x==NULL FROM t3;

SELECT x>NULL FROM t3;

SELECT x>=NULL FROM t3;

SELECT x!=NULL FROM t3;

SELECT * FROM t1 WHERE x>=0;

SELECT x IS NULL FROM t3;

SELECT x IS NOT NULL FROM t3;

SELECT * FROM t1 WHERE x>0;

SELECT * FROM t1 WHERE x<>0;

SELECT * FROM t1 WHERE x<NULL;

SELECT * FROM t1 WHERE x<=NULL;

-- ===where6.test===
CREATE TABLE t1(a INTEGER PRIMARY KEY,b,c);
INSERT INTO t1 VALUES(1,3,1);
INSERT INTO t1 VALUES(2,4,2);
CREATE TABLE t2(x INTEGER PRIMARY KEY);
INSERT INTO t2 VALUES(3);
SELECT * FROM t1 LEFT JOIN t2 ON b=x AND c=1;

SELECT * FROM t1 LEFT JOIN t2 ON x=b AND 1=c;

SELECT * FROM t1 LEFT JOIN t2 ON b=x AND 1=c;

SELECT * FROM t1 LEFT JOIN t2 ON b=x WHERE c=1;

SELECT * FROM t1 LEFT JOIN t2 ON x=b WHERE c=1;

SELECT * FROM t1 LEFT JOIN t2 ON x=b WHERE 1=c;

SELECT * FROM t1 LEFT JOIN t2 ON b=x WHERE 1=c;

CREATE TABLE t4(x UNIQUE);
INSERT INTO t4 VALUES('abc');
INSERT INTO t4 VALUES('def');
INSERT INTO t4 VALUES('ghi');
CREATE TABLE t5(a, b, c, PRIMARY KEY(a,b));
INSERT INTO t5 VALUES('abc','def',123);
INSERT INTO t5 VALUES('def','ghi',456);
SELECT t4a.x, t4b.x, t5.c, t6.v
FROM t4 AS t4a
INNER JOIN t4 AS t4b
LEFT JOIN t5 ON t5.a=t4a.x AND t5.b=t4b.x
LEFT JOIN (SELECT 1 AS v) AS t6 ON t4a.x=t4b.x
ORDER BY 1, 2, 3;

SELECT * FROM t1 LEFT JOIN t2 ON x=b AND c=1;

SELECT * FROM t1 LEFT JOIN t2 ON x=b AND 1=c;

SELECT * FROM t1 LEFT JOIN t2 ON b=x AND 1=c;

SELECT * FROM t1 LEFT JOIN t2 ON b=x WHERE c=1;

SELECT * FROM t1 LEFT JOIN t2 ON x=b WHERE c=1;

SELECT * FROM t1 LEFT JOIN t2 ON b=x WHERE 1=c;

CREATE INDEX i1 ON t1(c);
SELECT * FROM t1 LEFT JOIN t2 ON b=x AND c=1;

SELECT * FROM t1 LEFT JOIN t2 ON x=b AND c=1;

-- ===where7.test===
CREATE TABLE t1(a INTEGER PRIMARY KEY,b,c,d);
INSERT INTO t1 VALUES(1,2,3,4);
INSERT INTO t1 VALUES(2,3,4,5);
INSERT INTO t1 VALUES(3,4,6,8);
INSERT INTO t1 VALUES(4,5,10,15);
INSERT INTO t1 VALUES(5,10,100,1000);
CREATE INDEX t1b ON t1(b);
CREATE INDEX t1c ON t1(c);
SELECT * FROM t1;

CREATE TABLE t2(a INTEGER PRIMARY KEY,b,c,d,e,f TEXT,g);
INSERT INTO t2 VALUES(1,11,1001,1.001,100.1,'bcdefghij','yxwvuts');
INSERT INTO t2 VALUES(2,22,1001,2.002,100.1,'cdefghijk','yxwvuts');
INSERT INTO t2 VALUES(3,33,1001,3.0029999999999997,100.1,'defghijkl','xwvutsr');
INSERT INTO t2 VALUES(4,44,2002,4.004,200.2,'efghijklm','xwvutsr');
INSERT INTO t2 VALUES(5,55,2002,5.004999999999999,200.2,'fghijklmn','xwvutsr');
INSERT INTO t2 VALUES(6,66,2002,6.005999999999999,200.2,'ghijklmno','xwvutsr');
INSERT INTO t2 VALUES(7,77,3003,7.007,300.29999999999995,'hijklmnop','xwvutsr');
INSERT INTO t2 VALUES(8,88,3003,8.008,300.29999999999995,'ijklmnopq','wvutsrq');
INSERT INTO t2 VALUES(9,99,3003,9.008999999999999,300.29999999999995,'jklmnopqr','wvutsrq');
INSERT INTO t2 VALUES(10,110,4004,10.009999999999998,400.4,'klmnopqrs','wvutsrq');
INSERT INTO t2 VALUES(11,121,4004,11.011,400.4,'lmnopqrst','wvutsrq');
INSERT INTO t2 VALUES(12,132,4004,12.011999999999999,400.4,'mnopqrstu','wvutsrq');
INSERT INTO t2 VALUES(13,143,5005,13.012999999999998,500.5,'nopqrstuv','vutsrqp');
INSERT INTO t2 VALUES(14,154,5005,14.014,500.5,'opqrstuvw','vutsrqp');
INSERT INTO t2 VALUES(15,165,5005,15.014999999999999,500.5,'pqrstuvwx','vutsrqp');
INSERT INTO t2 VALUES(16,176,6006,16.016,600.5999999999999,'qrstuvwxy','vutsrqp');
INSERT INTO t2 VALUES(17,187,6006,17.017,600.5999999999999,'rstuvwxyz','vutsrqp');
INSERT INTO t2 VALUES(18,198,6006,18.017999999999997,600.5999999999999,'stuvwxyza','utsrqpo');
INSERT INTO t2 VALUES(19,209,7007,19.019,700.6999999999999,'tuvwxyzab','utsrqpo');
INSERT INTO t2 VALUES(20,220,7007,20.019999999999996,700.6999999999999,'uvwxyzabc','utsrqpo');
INSERT INTO t2 VALUES(21,231,7007,21.020999999999997,700.6999999999999,'vwxyzabcd','utsrqpo');
INSERT INTO t2 VALUES(22,242,8008,22.022,800.8,'wxyzabcde','utsrqpo');
INSERT INTO t2 VALUES(23,253,8008,23.022999999999996,800.8,'xyzabcdef','tsrqpon');
INSERT INTO t2 VALUES(24,264,8008,24.023999999999997,800.8,'yzabcdefg','tsrqpon');
INSERT INTO t2 VALUES(25,275,9009,25.025,900.9,'zabcdefgh','tsrqpon');
INSERT INTO t2 VALUES(26,286,9009,26.025999999999996,900.9,'abcdefghi','tsrqpon');
INSERT INTO t2 VALUES(27,297,9009,27.026999999999997,900.9,'bcdefghij','tsrqpon');
INSERT INTO t2 VALUES(28,308,10010,28.028,1001.0,'cdefghijk','srqponm');
INSERT INTO t2 VALUES(29,319,10010,29.028999999999996,1001.0,'defghijkl','srqponm');
INSERT INTO t2 VALUES(30,330,10010,30.029999999999998,1001.0,'efghijklm','srqponm');
INSERT INTO t2 VALUES(31,341,11011,31.030999999999995,1101.1,'fghijklmn','srqponm');
INSERT INTO t2 VALUES(32,352,11011,32.032,1101.1,'ghijklmno','srqponm');
INSERT INTO t2 VALUES(33,363,11011,33.032999999999994,1101.1,'hijklmnop','rqponml');
INSERT INTO t2 VALUES(34,374,12012,34.034,1201.1999999999998,'ijklmnopq','rqponml');
INSERT INTO t2 VALUES(35,385,12012,35.035,1201.1999999999998,'jklmnopqr','rqponml');
INSERT INTO t2 VALUES(36,396,12012,36.035999999999994,1201.1999999999998,'klmnopqrs','rqponml');
INSERT INTO t2 VALUES(37,407,13013,37.037,1301.3,'lmnopqrst','rqponml');
INSERT INTO t2 VALUES(38,418,13013,38.038,1301.3,'mnopqrstu','qponmlk');
INSERT INTO t2 VALUES(39,429,13013,39.038999999999994,1301.3,'nopqrstuv','qponmlk');
INSERT INTO t2 VALUES(40,440,14014,40.03999999999999,1401.3999999999999,'opqrstuvw','qponmlk');
INSERT INTO t2 VALUES(41,451,14014,41.041,1401.3999999999999,'pqrstuvwx','qponmlk');
INSERT INTO t2 VALUES(42,462,14014,42.041999999999994,1401.3999999999999,'qrstuvwxy','qponmlk');
INSERT INTO t2 VALUES(43,473,15015,43.04299999999999,1501.5,'rstuvwxyz','ponmlkj');
INSERT INTO t2 VALUES(44,484,15015,44.044,1501.5,'stuvwxyza','ponmlkj');
INSERT INTO t2 VALUES(45,495,15015,45.044999999999995,1501.5,'tuvwxyzab','ponmlkj');
INSERT INTO t2 VALUES(46,506,16016,46.04599999999999,1601.6,'uvwxyzabc','ponmlkj');
INSERT INTO t2 VALUES(47,517,16016,47.047,1601.6,'vwxyzabcd','ponmlkj');
INSERT INTO t2 VALUES(48,528,16016,48.047999999999995,1601.6,'wxyzabcde','onmlkji');
INSERT INTO t2 VALUES(49,539,17017,49.04899999999999,1701.6999999999998,'xyzabcdef','onmlkji');
INSERT INTO t2 VALUES(50,550,17017,50.05,1701.6999999999998,'yzabcdefg','onmlkji');
INSERT INTO t2 VALUES(51,561,17017,51.050999999999995,1701.6999999999998,'zabcdefgh','onmlkji');
INSERT INTO t2 VALUES(52,572,18018,52.05199999999999,1801.8,'abcdefghi','onmlkji');
INSERT INTO t2 VALUES(53,583,18018,53.053,1801.8,'bcdefghij','nmlkjih');
INSERT INTO t2 VALUES(54,594,18018,54.053999999999995,1801.8,'cdefghijk','nmlkjih');
INSERT INTO t2 VALUES(55,605,19019,55.05499999999999,1901.8999999999999,'defghijkl','nmlkjih');
INSERT INTO t2 VALUES(56,616,19019,56.056,1901.8999999999999,'efghijklm','nmlkjih');
INSERT INTO t2 VALUES(57,627,19019,57.056999999999995,1901.8999999999999,'fghijklmn','nmlkjih');
INSERT INTO t2 VALUES(58,638,20020,58.05799999999999,2002.0,'ghijklmno','mlkjihg');
INSERT INTO t2 VALUES(59,649,20020,59.05899999999999,2002.0,'hijklmnop','mlkjihg');
INSERT INTO t2 VALUES(60,660,20020,60.059999999999995,2002.0,'ijklmnopq','mlkjihg');
INSERT INTO t2 VALUES(61,671,21021,61.06099999999999,2102.1,'jklmnopqr','mlkjihg');
INSERT INTO t2 VALUES(62,682,21021,62.06199999999999,2102.1,'klmnopqrs','mlkjihg');
INSERT INTO t2 VALUES(63,693,21021,63.062999999999995,2102.1,'lmnopqrst','lkjihgf');
INSERT INTO t2 VALUES(64,704,22022,64.064,2202.2,'mnopqrstu','lkjihgf');
INSERT INTO t2 VALUES(65,715,22022,65.065,2202.2,'nopqrstuv','lkjihgf');
INSERT INTO t2 VALUES(66,726,22022,66.06599999999999,2202.2,'opqrstuvw','lkjihgf');
INSERT INTO t2 VALUES(67,737,23023,67.067,2302.2999999999997,'pqrstuvwx','lkjihgf');
INSERT INTO t2 VALUES(68,748,23023,68.068,2302.2999999999997,'qrstuvwxy','kjihgfe');
INSERT INTO t2 VALUES(69,759,23023,69.06899999999999,2302.2999999999997,'rstuvwxyz','kjihgfe');
INSERT INTO t2 VALUES(70,770,24024,70.07,2402.3999999999996,'stuvwxyza','kjihgfe');
INSERT INTO t2 VALUES(71,781,24024,71.071,2402.3999999999996,'tuvwxyzab','kjihgfe');
INSERT INTO t2 VALUES(72,792,24024,72.07199999999999,2402.3999999999996,'uvwxyzabc','kjihgfe');
INSERT INTO t2 VALUES(73,803,25025,73.073,2502.5,'vwxyzabcd','jihgfed');
INSERT INTO t2 VALUES(74,814,25025,74.074,2502.5,'wxyzabcde','jihgfed');
INSERT INTO t2 VALUES(75,825,25025,75.07499999999999,2502.5,'xyzabcdef','jihgfed');
INSERT INTO t2 VALUES(76,836,26026,76.076,2602.6,'yzabcdefg','jihgfed');
INSERT INTO t2 VALUES(77,847,26026,77.077,2602.6,'zabcdefgh','jihgfed');
INSERT INTO t2 VALUES(78,858,26026,78.07799999999999,2602.6,'abcdefghi','ihgfedc');
INSERT INTO t2 VALUES(79,869,27027,79.079,2702.7,'bcdefghij','ihgfedc');
INSERT INTO t2 VALUES(80,880,27027,80.07999999999998,2702.7,'cdefghijk','ihgfedc');
INSERT INTO t2 VALUES(81,891,27027,81.08099999999999,2702.7,'defghijkl','ihgfedc');
INSERT INTO t2 VALUES(82,902,28028,82.082,2802.7999999999997,'efghijklm','ihgfedc');
INSERT INTO t2 VALUES(83,913,28028,83.08299999999998,2802.7999999999997,'fghijklmn','hgfedcb');
INSERT INTO t2 VALUES(84,924,28028,84.08399999999999,2802.7999999999997,'ghijklmno','hgfedcb');
INSERT INTO t2 VALUES(85,935,29029,85.085,2902.8999999999996,'hijklmnop','hgfedcb');
INSERT INTO t2 VALUES(86,946,29029,86.08599999999998,2902.8999999999996,'ijklmnopq','hgfedcb');
INSERT INTO t2 VALUES(87,957,29029,87.08699999999999,2902.8999999999996,'jklmnopqr','hgfedcb');
INSERT INTO t2 VALUES(88,968,30030,88.088,3003.0,'klmnopqrs','gfedcba');
INSERT INTO t2 VALUES(89,979,30030,89.08899999999998,3003.0,'lmnopqrst','gfedcba');
INSERT INTO t2 VALUES(90,990,30030,90.08999999999999,3003.0,'mnopqrstu','gfedcba');
INSERT INTO t2 VALUES(91,1001,31031,91.091,3103.1,'nopqrstuv','gfedcba');
INSERT INTO t2 VALUES(92,1012,31031,92.09199999999998,3103.1,'opqrstuvw','gfedcba');
INSERT INTO t2 VALUES(93,1023,31031,93.09299999999999,3103.1,'pqrstuvwx','fedcbaz');
INSERT INTO t2 VALUES(94,1034,32032,94.094,3203.2,'qrstuvwxy','fedcbaz');
INSERT INTO t2 VALUES(95,1045,32032,95.09499999999998,3203.2,'rstuvwxyz','fedcbaz');
INSERT INTO t2 VALUES(96,1056,32032,96.09599999999999,3203.2,'stuvwxyza','fedcbaz');
INSERT INTO t2 VALUES(97,1067,33033,97.097,3303.2999999999997,'tuvwxyzab','fedcbaz');
INSERT INTO t2 VALUES(98,1078,33033,98.09799999999998,3303.2999999999997,'uvwxyzabc','edcbazy');
INSERT INTO t2 VALUES(99,1089,33033,99.09899999999999,3303.2999999999997,'vwxyzabcd','edcbazy');
INSERT INTO t2 VALUES(100,1100,34034,100.1,3403.3999999999996,'wxyzabcde','edcbazy');
CREATE INDEX t2b ON t2(b);
CREATE INDEX t2c ON t2(c);
CREATE INDEX t2d ON t2(d);
CREATE INDEX t2e ON t2(e);
CREATE INDEX t2f ON t2(f);
CREATE INDEX t2g ON t2(g);
CREATE TABLE t3(a INTEGER PRIMARY KEY,b,c,d,e,f TEXT,g);
INSERT INTO t3 SELECT * FROM t2;
CREATE INDEX t3b ON t3(b,c);
CREATE INDEX t3c ON t3(c,e);
CREATE INDEX t3d ON t3(d,g);
CREATE INDEX t3e ON t3(e,f,g);
CREATE INDEX t3f ON t3(f,b,d,c);
CREATE INDEX t3g ON t3(g,f);

-- ===where8.test===
CREATE TABLE t1(a, b TEXT, c);
CREATE INDEX i1 ON t1(a);
CREATE INDEX i2 ON t1(b);
INSERT INTO t1 VALUES(1,  'one',   'I');
INSERT INTO t1 VALUES(2,  'two',   'II');
INSERT INTO t1 VALUES(3,  'three', 'III');
INSERT INTO t1 VALUES(4,  'four',  'IV');
INSERT INTO t1 VALUES(5,  'five',  'V');
INSERT INTO t1 VALUES(6,  'six',   'VI');
INSERT INTO t1 VALUES(7,  'seven', 'VII');
INSERT INTO t1 VALUES(8,  'eight', 'VIII');
INSERT INTO t1 VALUES(9,  'nine',  'IX');
INSERT INTO t1 VALUES(10, 'ten',   'X');

INSERT INTO tA VALUES(1, 2, 3, 4, 5, 6, 7, 8, 1, 2, 3, 4, 5, 6, 7, 8); 
CREATE UNIQUE INDEX tAI ON tA(p);
CREATE TABLE tB(x);
INSERT INTO tB VALUES('x');

SELECT a, x FROM tA LEFT JOIN tB ON (
a=1 AND b=2 AND c=3 AND d=4 AND e=5 AND f=6 AND g=7 AND h=8 AND
i=1 AND j=2 AND k=3 AND l=4 AND m=5 AND n=6 AND o=7 AND
(p = 1 OR p = 2 OR p = 3)
);

CREATE VIRTUAL TABLE e1 USING echo(t1);
SELECT b FROM e1;

SELECT c FROM e1 WHERE a=1 OR b='three';

CREATE TABLE t2(d, e, f);
CREATE INDEX i3 ON t2(d);
CREATE INDEX i4 ON t2(e);
INSERT INTO t2 VALUES(1,  NULL,         'I');
INSERT INTO t2 VALUES(2,  'four',       'IV');
INSERT INTO t2 VALUES(3,  NULL,         'IX');
INSERT INTO t2 VALUES(4,  'sixteen',    'XVI');
INSERT INTO t2 VALUES(5,  NULL,         'XXV');
INSERT INTO t2 VALUES(6,  'thirtysix',  'XXXVI');
INSERT INTO t2 VALUES(7,  'fortynine',  'XLIX');
INSERT INTO t2 VALUES(8,  'sixtyeight', 'LXIV');
INSERT INTO t2 VALUES(9,  'eightyone',  'LXXXIX');
INSERT INTO t2 VALUES(10, NULL,         'C');

BEGIN;
CREATE TABLE t3(a INTEGER, b REAL, c TEXT);
CREATE TABLE t4(f INTEGER, g REAL, h TEXT);
INSERT INTO t3 VALUES('hills', NULL, 1415926535);
INSERT INTO t3 VALUES('and', 'of', NULL);
INSERT INTO t3 VALUES('have', 'towering', 53594.08128);
INSERT INTO t3 VALUES(NULL, 45.64856692, 'Not');
INSERT INTO t3 VALUES('same', 5028841971, NULL);
INSERT INTO t3 VALUES('onlookers', 'in', 8214808651);
INSERT INTO t3 VALUES(346.0348610, 2643383279, NULL);
INSERT INTO t3 VALUES(1415926535, 'of', 'are');
INSERT INTO t3 VALUES(NULL, 0.4811174502, 'snapshots');
INSERT INTO t3 VALUES('over', 'the', 8628034825);
INSERT INTO t3 VALUES(8628034825, 66.59334461, 2847564.823);
INSERT INTO t3 VALUES('onlookers', 'same', 'and');
INSERT INTO t3 VALUES(NULL, 'light', 6939937510);
INSERT INTO t3 VALUES('from', 'their', 'viewed');
INSERT INTO t3 VALUES('from', 'Alpine', 'snapshots');
INSERT INTO t3 VALUES('from', 'sometimes', 'unalike');
INSERT INTO t3 VALUES(1339.360726, 'light', 'have');
INSERT INTO t3 VALUES(6939937510, 3282306647, 'other');
INSERT INTO t3 VALUES('paintings', 8628034825, 'all');
INSERT INTO t3 VALUES('paintings', NULL, 'same');
INSERT INTO t3 VALUES('Alpine', 378678316.5, 'unalike');
INSERT INTO t3 VALUES('Alpine', NULL, 'same');
INSERT INTO t3 VALUES(1339.360726, 2847564.823, 'over');
INSERT INTO t3 VALUES('villages', 'their', 'have');
INSERT INTO t3 VALUES('unalike', 'remarkably', 'in');
INSERT INTO t3 VALUES('and', 8979323846, 'and');
INSERT INTO t3 VALUES(NULL, 1415926535, 'an');
INSERT INTO t3 VALUES(271.2019091, 8628034825, 0.4811174502);
INSERT INTO t3 VALUES('all', 3421170679, 'the');
INSERT INTO t3 VALUES('Not', 'and', 1415926535);
INSERT INTO t3 VALUES('of', 'other', 'light');
INSERT INTO t3 VALUES(NULL, 'towering', 'Not');
INSERT INTO t3 VALUES(346.0348610, NULL, 'other');
INSERT INTO t3 VALUES('Not', 378678316.5, NULL);
INSERT INTO t3 VALUES('snapshots', 8628034825, 'of');
INSERT INTO t3 VALUES(3282306647, 271.2019091, 'and');
INSERT INTO t3 VALUES(50.58223172, 378678316.5, 5028841971);
INSERT INTO t3 VALUES(50.58223172, 2643383279, 'snapshots');
INSERT INTO t3 VALUES('writings', 8979323846, 8979323846);
INSERT INTO t3 VALUES('onlookers', 'his', 'in');
INSERT INTO t3 VALUES('unalike', 8628034825, 1339.360726);
INSERT INTO t3 VALUES('of', 'Alpine', 'and');
INSERT INTO t3 VALUES('onlookers', NULL, 'from');
INSERT INTO t3 VALUES('writings', 'it', 1339.360726);
INSERT INTO t3 VALUES('it', 'and', 'villages');
INSERT INTO t3 VALUES('an', 'the', 'villages');
INSERT INTO t3 VALUES(8214808651, 8214808651, 'same');
INSERT INTO t3 VALUES(346.0348610, 'light', 1415926535);
INSERT INTO t3 VALUES(NULL, 8979323846, 'and');
INSERT INTO t3 VALUES(NULL, 'same', 1339.360726);
INSERT INTO t4 VALUES('his', 'from', 'an');
INSERT INTO t4 VALUES('snapshots', 'or', NULL);
INSERT INTO t4 VALUES('Alpine', 'have', 'it');
INSERT INTO t4 VALUES('have', 'peak', 'remarkably');
INSERT INTO t4 VALUES('hills', NULL, 'Not');
INSERT INTO t4 VALUES('same', 'from', 2643383279);
INSERT INTO t4 VALUES('have', 'angle', 8628034825);
INSERT INTO t4 VALUES('sometimes', 'it', 2847564.823);
INSERT INTO t4 VALUES(0938446095, 'peak', 'of');
INSERT INTO t4 VALUES(8628034825, 'and', 'same');
INSERT INTO t4 VALUES('and', 271.2019091, 'their');
INSERT INTO t4 VALUES('the', 'of', 'remarkably');
INSERT INTO t4 VALUES('and', 3421170679, 1415926535);
INSERT INTO t4 VALUES('and', 'in', 'all');
INSERT INTO t4 VALUES(378678316.5, 0.4811174502, 'snapshots');
INSERT INTO t4 VALUES('it', 'are', 'have');
INSERT INTO t4 VALUES('angle', 'snapshots', 378678316.5);
INSERT INTO t4 VALUES('from', 1415926535, 8628034825);
INSERT INTO t4 VALUES('snapshots', 'angle', 'have');
INSERT INTO t4 VALUES(3421170679, 0938446095, 'Not');
INSERT INTO t4 VALUES('peak', NULL, 0.4811174502);
INSERT INTO t4 VALUES('same', 'have', 'Alpine');
INSERT INTO t4 VALUES(271.2019091, 66.59334461, 0938446095);
INSERT INTO t4 VALUES(8979323846, 'his', 'an');
INSERT INTO t4 VALUES(NULL, 'and', 3282306647);
INSERT INTO t4 VALUES('remarkably', NULL, 'Not');
INSERT INTO t4 VALUES('villages', 4543.266482, 'his');
INSERT INTO t4 VALUES(2643383279, 'paintings', 'onlookers');
INSERT INTO t4 VALUES(1339.360726, 'of', 'the');
INSERT INTO t4 VALUES('peak', 'other', 'peak');
INSERT INTO t4 VALUES('it', 'or', 8979323846);
INSERT INTO t4 VALUES('onlookers', 'Not', 'towering');
INSERT INTO t4 VALUES(NULL, 'peak', 'Not');
INSERT INTO t4 VALUES('of', 'have', 6939937510);
INSERT INTO t4 VALUES('light', 'hills', 0.4811174502);
INSERT INTO t4 VALUES(5028841971, 'Not', 'it');
INSERT INTO t4 VALUES('and', 'Not', NULL);
INSERT INTO t4 VALUES(346.0348610, 'villages', NULL);
INSERT INTO t4 VALUES(8979323846, NULL, 6939937510);
INSERT INTO t4 VALUES('an', 'light', 'peak');
INSERT INTO t4 VALUES(5028841971, 6939937510, 'light');
INSERT INTO t4 VALUES('sometimes', 'peak', 'peak');
INSERT INTO t4 VALUES(378678316.5, 5028841971, 'an');
INSERT INTO t4 VALUES(378678316.5, 'his', 'Alpine');
INSERT INTO t4 VALUES('from', 'of', 'all');
INSERT INTO t4 VALUES(0938446095, 'same', NULL);
INSERT INTO t4 VALUES(0938446095, 'Alpine', NULL);
INSERT INTO t4 VALUES('his', 'of', 378678316.5);
INSERT INTO t4 VALUES(271.2019091, 'viewed', 3282306647);
INSERT INTO t4 VALUES('hills', 'all', 'peak');
CREATE TABLE t5(s);
INSERT INTO t5 VALUES('tab-t5');
CREATE TABLE t6(t);
INSERT INTO t6 VALUES(123456);
COMMIT;

DROP INDEX IF EXISTS i5;
DROP INDEX IF EXISTS i6;
DROP INDEX IF EXISTS i7;
DROP INDEX IF EXISTS i8;

CREATE TABLE tA(
a, b, c, d, e, f, g, h, 
i, j, k, l, m, n, o, p
);

SELECT * FROM tA WHERE
a=1 AND b=2 AND c=3 AND d=4 AND e=5 AND f=6 AND g=7 AND h=8 AND
i=1 AND j=2 AND k=3 AND l=4 AND m=5 AND n=6 AND o=7 AND
(p = 1 OR p = 2 OR p = 3);

SELECT * FROM tA WHERE
a=1 AND b=2 AND c=3 AND d=4 AND e=5 AND f=6 AND g=7 AND h=8 AND
i=1 AND j=2 AND k=3 AND l=4 AND m=5 AND
(p = 1 OR p = 2 OR p = 3) AND n=6 AND o=7;

-- ===where9.test===
CREATE TABLE t1(a INTEGER PRIMARY KEY,b,c,d,e,f,g);
INSERT INTO t1 VALUES(1,11,1001,1.001,100.1,'bcdefghij','yxwvuts');
INSERT INTO t1 VALUES(2,22,1001,2.002,100.1,'cdefghijk','yxwvuts');
INSERT INTO t1 VALUES(3,33,1001,3.003,100.1,'defghijkl','xwvutsr');
INSERT INTO t1 VALUES(4,44,2002,4.004,200.2,'efghijklm','xwvutsr');
INSERT INTO t1 VALUES(5,55,2002,5.005,200.2,'fghijklmn','xwvutsr');
INSERT INTO t1 VALUES(6,66,2002,6.006,200.2,'ghijklmno','xwvutsr');
INSERT INTO t1 VALUES(7,77,3003,7.007,300.3,'hijklmnop','xwvutsr');
INSERT INTO t1 VALUES(8,88,3003,8.008,300.3,'ijklmnopq','wvutsrq');
INSERT INTO t1 VALUES(9,99,3003,9.009,300.3,'jklmnopqr','wvutsrq');
INSERT INTO t1 VALUES(10,110,4004,10.01,400.4,'klmnopqrs','wvutsrq');
INSERT INTO t1 VALUES(11,121,4004,11.011,400.4,'lmnopqrst','wvutsrq');
INSERT INTO t1 VALUES(12,132,4004,12.012,400.4,'mnopqrstu','wvutsrq');
INSERT INTO t1 VALUES(13,143,5005,13.013,500.5,'nopqrstuv','vutsrqp');
INSERT INTO t1 VALUES(14,154,5005,14.014,500.5,'opqrstuvw','vutsrqp');
INSERT INTO t1 VALUES(15,165,5005,15.015,500.5,'pqrstuvwx','vutsrqp');
INSERT INTO t1 VALUES(16,176,6006,16.016,600.6,'qrstuvwxy','vutsrqp');
INSERT INTO t1 VALUES(17,187,6006,17.017,600.6,'rstuvwxyz','vutsrqp');
INSERT INTO t1 VALUES(18,198,6006,18.018,600.6,'stuvwxyza','utsrqpo');
INSERT INTO t1 VALUES(19,209,7007,19.019,700.7,'tuvwxyzab','utsrqpo');
INSERT INTO t1 VALUES(20,220,7007,20.02,700.7,'uvwxyzabc','utsrqpo');
INSERT INTO t1 VALUES(21,231,7007,21.021,700.7,'vwxyzabcd','utsrqpo');
INSERT INTO t1 VALUES(22,242,8008,22.022,800.8,'wxyzabcde','utsrqpo');
INSERT INTO t1 VALUES(23,253,8008,23.023,800.8,'xyzabcdef','tsrqpon');
INSERT INTO t1 VALUES(24,264,8008,24.024,800.8,'yzabcdefg','tsrqpon');
INSERT INTO t1 VALUES(25,275,9009,25.025,900.9,'zabcdefgh','tsrqpon');
INSERT INTO t1 VALUES(26,286,9009,26.026,900.9,'abcdefghi','tsrqpon');
INSERT INTO t1 VALUES(27,297,9009,27.027,900.9,'bcdefghij','tsrqpon');
INSERT INTO t1 VALUES(28,308,10010,28.028,1001.0,'cdefghijk','srqponm');
INSERT INTO t1 VALUES(29,319,10010,29.029,1001.0,'defghijkl','srqponm');
INSERT INTO t1 VALUES(30,330,10010,30.03,1001.0,'efghijklm','srqponm');
INSERT INTO t1 VALUES(31,341,11011,31.031,1101.1,'fghijklmn','srqponm');
INSERT INTO t1 VALUES(32,352,11011,32.032,1101.1,'ghijklmno','srqponm');
INSERT INTO t1 VALUES(33,363,11011,33.033,1101.1,'hijklmnop','rqponml');
INSERT INTO t1 VALUES(34,374,12012,34.034,1201.2,'ijklmnopq','rqponml');
INSERT INTO t1 VALUES(35,385,12012,35.035,1201.2,'jklmnopqr','rqponml');
INSERT INTO t1 VALUES(36,396,12012,36.036,1201.2,'klmnopqrs','rqponml');
INSERT INTO t1 VALUES(37,407,13013,37.037,1301.3,'lmnopqrst','rqponml');
INSERT INTO t1 VALUES(38,418,13013,38.038,1301.3,'mnopqrstu','qponmlk');
INSERT INTO t1 VALUES(39,429,13013,39.039,1301.3,'nopqrstuv','qponmlk');
INSERT INTO t1 VALUES(40,440,14014,40.04,1401.4,'opqrstuvw','qponmlk');
INSERT INTO t1 VALUES(41,451,14014,41.041,1401.4,'pqrstuvwx','qponmlk');
INSERT INTO t1 VALUES(42,462,14014,42.042,1401.4,'qrstuvwxy','qponmlk');
INSERT INTO t1 VALUES(43,473,15015,43.043,1501.5,'rstuvwxyz','ponmlkj');
INSERT INTO t1 VALUES(44,484,15015,44.044,1501.5,'stuvwxyza','ponmlkj');
INSERT INTO t1 VALUES(45,495,15015,45.045,1501.5,'tuvwxyzab','ponmlkj');
INSERT INTO t1 VALUES(46,506,16016,46.046,1601.6,'uvwxyzabc','ponmlkj');
INSERT INTO t1 VALUES(47,517,16016,47.047,1601.6,'vwxyzabcd','ponmlkj');
INSERT INTO t1 VALUES(48,528,16016,48.048,1601.6,'wxyzabcde','onmlkji');
INSERT INTO t1 VALUES(49,539,17017,49.049,1701.7,'xyzabcdef','onmlkji');
INSERT INTO t1 VALUES(50,550,17017,50.05,1701.7,'yzabcdefg','onmlkji');
INSERT INTO t1 VALUES(51,561,17017,51.051,1701.7,'zabcdefgh','onmlkji');
INSERT INTO t1 VALUES(52,572,18018,52.052,1801.8,'abcdefghi','onmlkji');
INSERT INTO t1 VALUES(53,583,18018,53.053,1801.8,'bcdefghij','nmlkjih');
INSERT INTO t1 VALUES(54,594,18018,54.054,1801.8,'cdefghijk','nmlkjih');
INSERT INTO t1 VALUES(55,605,19019,55.055,1901.9,'defghijkl','nmlkjih');
INSERT INTO t1 VALUES(56,616,19019,56.056,1901.9,'efghijklm','nmlkjih');
INSERT INTO t1 VALUES(57,627,19019,57.057,1901.9,'fghijklmn','nmlkjih');
INSERT INTO t1 VALUES(58,638,20020,58.058,2002.0,'ghijklmno','mlkjihg');
INSERT INTO t1 VALUES(59,649,20020,59.059,2002.0,'hijklmnop','mlkjihg');
INSERT INTO t1 VALUES(60,660,20020,60.06,2002.0,'ijklmnopq','mlkjihg');
INSERT INTO t1 VALUES(61,671,21021,61.061,2102.1,'jklmnopqr','mlkjihg');
INSERT INTO t1 VALUES(62,682,21021,62.062,2102.1,'klmnopqrs','mlkjihg');
INSERT INTO t1 VALUES(63,693,21021,63.063,2102.1,'lmnopqrst','lkjihgf');
INSERT INTO t1 VALUES(64,704,22022,64.064,2202.2,'mnopqrstu','lkjihgf');
INSERT INTO t1 VALUES(65,715,22022,65.065,2202.2,'nopqrstuv','lkjihgf');
INSERT INTO t1 VALUES(66,726,22022,66.066,2202.2,'opqrstuvw','lkjihgf');
INSERT INTO t1 VALUES(67,737,23023,67.067,2302.3,'pqrstuvwx','lkjihgf');
INSERT INTO t1 VALUES(68,748,23023,68.068,2302.3,'qrstuvwxy','kjihgfe');
INSERT INTO t1 VALUES(69,759,23023,69.069,2302.3,'rstuvwxyz','kjihgfe');
INSERT INTO t1 VALUES(70,770,24024,70.07,2402.4,'stuvwxyza','kjihgfe');
INSERT INTO t1 VALUES(71,781,24024,71.071,2402.4,'tuvwxyzab','kjihgfe');
INSERT INTO t1 VALUES(72,792,24024,72.072,2402.4,'uvwxyzabc','kjihgfe');
INSERT INTO t1 VALUES(73,803,25025,73.073,2502.5,'vwxyzabcd','jihgfed');
INSERT INTO t1 VALUES(74,814,25025,74.074,2502.5,'wxyzabcde','jihgfed');
INSERT INTO t1 VALUES(75,825,25025,75.075,2502.5,'xyzabcdef','jihgfed');
INSERT INTO t1 VALUES(76,836,26026,76.076,2602.6,'yzabcdefg','jihgfed');
INSERT INTO t1 VALUES(77,847,26026,77.077,2602.6,'zabcdefgh','jihgfed');
INSERT INTO t1 VALUES(78,858,26026,78.078,2602.6,'abcdefghi','ihgfedc');
INSERT INTO t1 VALUES(79,869,27027,79.079,2702.7,'bcdefghij','ihgfedc');
INSERT INTO t1 VALUES(80,880,27027,80.08,2702.7,'cdefghijk','ihgfedc');
INSERT INTO t1 VALUES(81,891,27027,81.081,2702.7,'defghijkl','ihgfedc');
INSERT INTO t1 VALUES(82,902,28028,82.082,2802.8,'efghijklm','ihgfedc');
INSERT INTO t1 VALUES(83,913,28028,83.083,2802.8,'fghijklmn','hgfedcb');
INSERT INTO t1 VALUES(84,924,28028,84.084,2802.8,'ghijklmno','hgfedcb');
INSERT INTO t1 VALUES(85,935,29029,85.085,2902.9,'hijklmnop','hgfedcb');
INSERT INTO t1 VALUES(86,946,29029,86.086,2902.9,'ijklmnopq','hgfedcb');
INSERT INTO t1 VALUES(87,957,29029,87.087,2902.9,'jklmnopqr','hgfedcb');
INSERT INTO t1 VALUES(88,968,30030,88.088,3003.0,'klmnopqrs','gfedcba');
INSERT INTO t1 VALUES(89,979,30030,89.089,3003.0,'lmnopqrst','gfedcba');
INSERT INTO t1 VALUES(90,NULL,30030,90.09,3003.0,'mnopqrstu','gfedcba');
INSERT INTO t1 VALUES(91,1001,NULL,91.091,3103.1,'nopqrstuv','gfedcba');
INSERT INTO t1 VALUES(92,1012,31031,NULL,3103.1,'opqrstuvw','gfedcba');
INSERT INTO t1 VALUES(93,1023,31031,93.093,NULL,'pqrstuvwx','fedcbaz');
INSERT INTO t1 VALUES(94,1034,32032,94.094,3203.2,NULL,'fedcbaz');
INSERT INTO t1 VALUES(95,1045,32032,95.095,3203.2,'rstuvwxyz',NULL);
INSERT INTO t1 VALUES(96,NULL,NULL,96.096,3203.2,'stuvwxyza','fedcbaz');
INSERT INTO t1 VALUES(97,1067,33033,NULL,NULL,'tuvwxyzab','fedcbaz');
INSERT INTO t1 VALUES(98,1078,33033,98.098,3303.3,NULL,NULL);
INSERT INTO t1 VALUES(99,NULL,NULL,NULL,NULL,NULL,NULL);
CREATE INDEX t1b ON t1(b);
CREATE INDEX t1c ON t1(c);
CREATE INDEX t1d ON t1(d);
CREATE INDEX t1e ON t1(e);
CREATE INDEX t1f ON t1(f);
CREATE INDEX t1g ON t1(g);
CREATE TABLE t2(a INTEGER PRIMARY KEY,b,c,d,e,f,g);
INSERT INTO t2 SELECT * FROM t1;
CREATE INDEX t2b ON t2(b,c);
CREATE INDEX t2c ON t2(c,e);
CREATE INDEX t2d ON t2(d,g);
CREATE INDEX t2e ON t2(e,f,g);
CREATE INDEX t2f ON t2(f,b,d,c);
CREATE INDEX t2g ON t2(g,f);
CREATE TABLE t3(x,y);
INSERT INTO t3 VALUES(1,80);
INSERT INTO t3 VALUES(2,80);
CREATE TABLE t4(a INTEGER PRIMARY KEY,b,c,d,e,f,g);
INSERT INTO t4 SELECT * FROM t1;
CREATE INDEX t4b ON t4(b);
CREATE INDEX t4c ON t4(c);

SELECT count(*) FROM t1 UNION ALL
SELECT a FROM t1 WHERE a BETWEEN 85 AND 100;
ROLLBACK;

SELECT count(*) FROM t1 UNION ALL
SELECT a FROM t1 WHERE a BETWEEN 85 AND 100;
ROLLBACK;

SELECT count(*) FROM t1 UNION ALL
SELECT a FROM t1 WHERE a BETWEEN 85 AND 100;
ROLLBACK;

SELECT count(*) FROM t1 UNION ALL
SELECT a FROM t1 WHERE a IN (5,31,57,82,83,84,85,86,87);
ROLLBACK;

SELECT count(*) FROM t1 UNION ALL
SELECT a FROM t1 WHERE a%100 IN (5,31,57,82,83,84,85,86,87);
ROLLBACK;

SELECT count(*) FROM t1 UNION ALL
SELECT a FROM t1 WHERE a BETWEEN 85 AND 100;
ROLLBACK;

SELECT count(*) FROM t1 UNION ALL
SELECT a FROM t1 WHERE a BETWEEN 85 AND 200;
ROLLBACK;

SELECT count(*) FROM t1 UNION ALL
SELECT a FROM t1 WHERE a BETWEEN 85 AND 100;
ROLLBACK;

SELECT count(*) FROM t1 UNION ALL
SELECT a FROM t1 WHERE a BETWEEN 85 AND 200;
ROLLBACK;

SELECT count(*) FROM t1 UNION ALL SELECT a FROM t1 WHERE a>=85;

SELECT count(*) FROM t1 UNION ALL
SELECT a FROM t1 WHERE a>=85;
ROLLBACK;

SELECT count(*) FROM t1 UNION ALL
SELECT a FROM t1 WHERE a>=85;
ROLLBACK;

SELECT count(*) FROM t1 UNION ALL
SELECT a FROM t1 WHERE a>=85;
ROLLBACK;

SELECT count(*) FROM t1 UNION ALL SELECT a FROM t1 WHERE a>=85;
ROLLBACK;

SELECT count(*) FROM t1 UNION ALL
SELECT a FROM t1 WHERE a BETWEEN 85 AND 100;
ROLLBACK;

SELECT count(*) FROM t1 UNION ALL
SELECT a FROM t1 WHERE a BETWEEN 85 AND 200;
ROLLBACK;

SELECT count(*) FROM t1 UNION ALL
SELECT a FROM t1 WHERE a BETWEEN 85 AND 100;
ROLLBACK;

-- ===whereA.test===
CREATE TABLE t1(a INTEGER PRIMARY KEY, b UNIQUE, c);
INSERT INTO t1 VALUES(1,2,3);
INSERT INTO t1 values(2,'hello','world');
INSERT INTO t1 VALUES(3,4.53,NULL);
SELECT * FROM t1;

PRAGMA reverse_unordered_selects=1;
SELECT * FROM t1 WHERE a>0 ORDER BY rowid;

PRAGMA reverse_unordered_selects=0;
SELECT * FROM t1 WHERE b>0;

PRAGMA reverse_unordered_selects=1;
SELECT * FROM t1 WHERE b>0;

PRAGMA reverse_unordered_selects=1;
SELECT * FROM t1 WHERE b>0 ORDER BY b;

CREATE TABLE t2(x);
INSERT INTO t2 VALUES(1);
INSERT INTO t2 VALUES(2);
SELECT x FROM t2;

CREATE INDEX t2x ON t2(x);

DROP INDEX t2x;

PRAGMA reverse_unordered_selects=1;
SELECT * FROM t1;

PRAGMA reverse_unordered_selects=1;
SELECT * FROM t1;

PRAGMA reverse_unordered_selects=1;
SELECT * FROM t1 ORDER BY rowid;

VACUUM;
SELECT * FROM t1 ORDER BY rowid;

PRAGMA reverse_unordered_selects;

PRAGMA reverse_unordered_selects=1;
VACUUM;
SELECT * FROM t1;

PRAGMA reverse_unordered_selects=0;
SELECT * FROM t1 WHERE a>0;

PRAGMA reverse_unordered_selects=1;
SELECT * FROM t1 WHERE a>0;

-- ===whereB.test===
CREATE TABLE t1(x,y);    INSERT INTO t1 VALUES(1,99);
CREATE TABLE t2(a, b TEXT);  CREATE INDEX t2b ON t2(b);
INSERT INTO t2 VALUES(2,99);
SELECT x, a, y=b FROM t1, t2 ORDER BY +x, +a;

SELECT x, a, y=b FROM t1, t2 WHERE b=y;

SELECT x, a, y=b FROM t1, t2 WHERE +y=+b;

DROP INDEX t2b;
SELECT x, a, y=b FROM t1, t2 WHERE y=b;

SELECT x, a, y=b FROM t1, t2 WHERE b=y;

SELECT x, a, y=b FROM t1, t2 WHERE +y=+b;

DROP TABLE t1;
DROP TABLE t2;
CREATE TABLE t1(x, y BLOB);    INSERT INTO t1 VALUES(1,99);
CREATE TABLE t2(a, b BLOB);  CREATE INDEX t2b ON t2(b);
INSERT INTO t2 VALUES(2,'99');
SELECT x, a, y=b FROM t1, t2;

SELECT x, a, y=b FROM t1, t2 WHERE y=b;

SELECT x, a, y=b FROM t1, t2 WHERE b=y;

SELECT x, a, y=b FROM t1, t2 WHERE +y=+b;

DROP INDEX t2b;
SELECT x, a, y=b FROM t1, t2 WHERE y=b;

SELECT x, a, y=b FROM t1, t2 WHERE y=b;

SELECT x, a, y=b FROM t1, t2 WHERE b=y;

SELECT x, a, y=b FROM t1, t2 WHERE +y=+b;

DROP TABLE t1;
DROP TABLE t2;
CREATE TABLE t1(x, y BLOB);    INSERT INTO t1 VALUES(1,'99');
CREATE TABLE t2(a, b NUMERIC);  CREATE INDEX t2b ON t2(b);
INSERT INTO t2 VALUES(2,99);
SELECT x, a, y=b FROM t1, t2;

SELECT x, a, y=b FROM t1, t2 WHERE y=b;

SELECT x, a, y=b FROM t1, t2 WHERE b=y;

SELECT x, a, y=b FROM t1, t2 WHERE +y=+b;

DROP INDEX t2b;
SELECT x, a, y=b FROM t1, t2 WHERE y=b;

SELECT x, a, y=b FROM t1, t2 WHERE b=y;

SELECT x, a, y=b FROM t1, t2 WHERE +y=+b;

DROP TABLE t1;
DROP TABLE t2;
CREATE TABLE t1(x, y BLOB);    INSERT INTO t1 VALUES(1,'99');
CREATE TABLE t2(a, b INT);  CREATE INDEX t2b ON t2(b);
INSERT INTO t2 VALUES(2,99);
SELECT x, a, y=b FROM t1, t2;

SELECT x, a, y=b FROM t1, t2 WHERE b=y;

SELECT x, a, y=b FROM t1, t2 WHERE y=b;

SELECT x, a, y=b FROM t1, t2 WHERE b=y;

SELECT x, a, y=b FROM t1, t2 WHERE +y=+b;

DROP INDEX t2b;
SELECT x, a, y=b FROM t1, t2 WHERE y=b;

SELECT x, a, y=b FROM t1, t2 WHERE b=y;

SELECT x, a, y=b FROM t1, t2 WHERE +y=+b;

DROP TABLE t1;
DROP TABLE t2;
CREATE TABLE t1(x, y BLOB);    INSERT INTO t1 VALUES(1,'99');
CREATE TABLE t2(a, b REAL);  CREATE INDEX t2b ON t2(b);
INSERT INTO t2 VALUES(2,99.0);
SELECT x, a, y=b FROM t1, t2;

SELECT x, a, y=b FROM t1, t2 WHERE y=b;

SELECT x, a, y=b FROM t1, t2 WHERE b=y;

SELECT x, a, y=b FROM t1, t2 WHERE +y=+b;

SELECT x, a, y=b FROM t1, t2 WHERE +y=+b;

DROP INDEX t2b;
SELECT x, a, y=b FROM t1, t2 WHERE y=b;

SELECT x, a, y=b FROM t1, t2 WHERE b=y;

SELECT x, a, y=b FROM t1, t2 WHERE +y=+b;

DROP TABLE t1;
DROP TABLE t2;
CREATE TABLE t1(x, y NUMERIC);  INSERT INTO t1 VALUES(1,99);
CREATE TABLE t2(a, b BLOB);  CREATE INDEX t2b ON t2(b);
INSERT INTO t2 VALUES(2,'99');
SELECT x, a, y=b FROM t1, t2;

SELECT x, a, y=b FROM t1, t2 WHERE y=b;

SELECT x, a, y=b FROM t1, t2 WHERE b=y;

SELECT x, a, y=b FROM t1, t2 WHERE +y=+b;

DROP INDEX t2b;
SELECT x, a, y=b FROM t1, t2 WHERE y=b;

SELECT x, a, y=b FROM t1, t2 WHERE b=y;

SELECT x, a, y=b FROM t1, t2 WHERE +y=+b;

DROP INDEX t2b;
SELECT x, a, y=b FROM t1, t2 WHERE y=b;

DROP TABLE t1;
DROP TABLE t2;
CREATE TABLE t1(x, y INT);  INSERT INTO t1 VALUES(1,99);
CREATE TABLE t2(a, b BLOB);  CREATE INDEX t2b ON t2(b);
INSERT INTO t2 VALUES(2,'99');
SELECT x, a, y=b FROM t1, t2;

SELECT x, a, y=b FROM t1, t2 WHERE y=b;

SELECT x, a, y=b FROM t1, t2 WHERE b=y;

SELECT x, a, y=b FROM t1, t2 WHERE +y=+b;

DROP INDEX t2b;
SELECT x, a, y=b FROM t1, t2 WHERE y=b;

SELECT x, a, y=b FROM t1, t2 WHERE b=y;

SELECT x, a, y=b FROM t1, t2 WHERE +y=+b;

DROP TABLE t1;
DROP TABLE t2;
CREATE TABLE t1(x, y REAL);  INSERT INTO t1 VALUES(1,99.0);
CREATE TABLE t2(a, b BLOB);  CREATE INDEX t2b ON t2(b);
INSERT INTO t2 VALUES(2,'99');
SELECT x, a, y=b FROM t1, t2;

SELECT x, a, y=b FROM t1, t2 WHERE y=b;

SELECT x, a, y=b FROM t1, t2 WHERE b=y;

SELECT x, a, y=b FROM t1, t2 WHERE b=y;

SELECT x, a, y=b FROM t1, t2 WHERE +y=+b;

DROP INDEX t2b;
SELECT x, a, y=b FROM t1, t2 WHERE y=b;

SELECT x, a, y=b FROM t1, t2 WHERE b=y;

SELECT x, a, y=b FROM t1, t2 WHERE +y=+b;

SELECT x, a, y=b FROM t1, t2 WHERE +y=+b;

DROP TABLE t1;
DROP TABLE t2;
CREATE TABLE t1(x, y TEXT);    INSERT INTO t1 VALUES(1,99);
CREATE TABLE t2(a, b BLOB);  CREATE INDEX t2b ON t2(b);
INSERT INTO t2 VALUES(2,99);
SELECT x, a, y=b FROM t1, t2 ORDER BY +x, +a;

SELECT x, a, y=b FROM t1, t2 WHERE y=b;