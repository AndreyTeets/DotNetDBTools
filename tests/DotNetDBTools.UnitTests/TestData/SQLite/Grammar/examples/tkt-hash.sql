-- ===tkt-02a8e81d44.test===
CREATE TABLE t1(a);
INSERT INTO t1 VALUES(1);
INSERT INTO t1 VALUES(2);
INSERT INTO t1 VALUES(4);
INSERT INTO t1 VALUES(5);
SELECT * FROM (SELECT a FROM t1 LIMIT 1) UNION ALL SELECT 3;

-- ===tkt-2ea2425d34.test===
PRAGMA encoding=UTF16;
CREATE TABLE t1(a,b);
INSERT INTO t1 VALUES(1,'abc');
INSERT INTO t1 VALUES(2,'def');
INSERT INTO t1 VALUES(3,'ghi');
SELECT a FROM t1 WHERE length(b)<10 AND b<>'def' ORDER BY a;

-- ===tkt-31338dca7e.test===
CREATE TABLE t1(x);
CREATE TABLE t2(y);
INSERT INTO t1 VALUES(111);
INSERT INTO t1 VALUES(222);
INSERT INTO t2 VALUES(333);
INSERT INTO t2 VALUES(444);
SELECT * FROM t1, t2
WHERE (x=111 AND y!=444) OR x=222
ORDER BY x, y;

CREATE INDEX t1x ON t1(x);
SELECT * FROM t1, t2
WHERE (x=111 AND y!=444) OR x=222
ORDER BY x, y;

CREATE TABLE t3(v,w);
CREATE TABLE t4(x,y);
CREATE TABLE t5(z);
INSERT INTO t3 VALUES(111,222);
INSERT INTO t3 VALUES(333,444);
INSERT INTO t4 VALUES(222,333);
INSERT INTO t4 VALUES(444,555);
INSERT INTO t5 VALUES(888);
INSERT INTO t5 VALUES(999);
SELECT * FROM t3, t4, t5
WHERE (v=111 AND x=w AND z!=999) OR (v=333 AND x=444)
ORDER BY v, w, x, y, z;

CREATE INDEX t3v ON t3(v);
CREATE INDEX t4x ON t4(x);
SELECT * FROM t3, t4, t5
WHERE (v=111 AND x=w AND z!=999) OR (v=333 AND x=444)
ORDER BY v, w, x, y, z;

-- ===tkt-313723c356.test===
SELECT * FROM t1;

SELECT min(rowid) FROM t1;

-- ===tkt-38cb5df375.test===
CREATE TABLE t1(a);
INSERT INTO t1 VALUES(1);
INSERT INTO t1 VALUES(2);
INSERT INTO t1 SELECT a+2 FROM t1;
INSERT INTO t1 SELECT a+4 FROM t1;

SELECT 0 FROM (SELECT * FROM t1 LIMIT 3)
UNION ALL SELECT 9 FROM (SELECT a FROM t1 LIMIT 3)
LIMIT ii;

SELECT * FROM (SELECT * FROM t1 ORDER BY a)
UNION ALL SELECT 9 FROM (SELECT a FROM t1)
ORDER BY 1
LIMIT ii;

SELECT 9 FROM (SELECT * FROM t1)
UNION ALL SELECT a FROM (SELECT a FROM t1 ORDER BY a)
ORDER BY 1
LIMIT ii;

SELECT a FROM (SELECT * FROM t1 ORDER BY a)
UNION ALL SELECT a FROM (SELECT a FROM t1 ORDER BY a)
ORDER BY 1 DESC
LIMIT ii;

SELECT 0 FROM (SELECT * FROM t1)
UNION ALL SELECT 9 FROM (SELECT a FROM t1)
ORDER BY 1
LIMIT ii;

SELECT * FROM (SELECT * FROM t1 ORDER BY a LIMIT 3)
UNION ALL SELECT 9 FROM (SELECT a FROM t1)
ORDER BY 1
LIMIT ii;

SELECT 9 FROM (SELECT * FROM t1)
UNION ALL SELECT a FROM (SELECT a FROM t1 ORDER BY a LIMIT 3)
ORDER BY 1
LIMIT ii;

SELECT a FROM (SELECT * FROM t1 ORDER BY a LIMIT 4)
UNION ALL SELECT 90+a FROM (SELECT a FROM t1 ORDER BY a LIMIT 3)
ORDER BY 1
LIMIT ii;

SELECT a FROM (SELECT * FROM t1 ORDER BY a LIMIT 2)
UNION ALL SELECT a FROM (SELECT a FROM t1 ORDER BY a LIMIT 5)
ORDER BY 1
LIMIT ii;

SELECT a FROM (SELECT * FROM t1 ORDER BY a LIMIT 5)
UNION ALL SELECT a FROM (SELECT a FROM t1 ORDER BY a LIMIT 2)
ORDER BY 1
LIMIT ii;

SELECT * FROM (SELECT * FROM t1 ORDER BY a)
UNION ALL SELECT 9 FROM (SELECT a FROM t1)
LIMIT ii;

SELECT a FROM (SELECT * FROM t1 ORDER BY a LIMIT 5)
UNION ALL SELECT a+10 FROM (SELECT a FROM t1 ORDER BY a LIMIT 2)
ORDER BY 1
LIMIT ii;

SELECT a FROM (SELECT * FROM t1 ORDER BY a LIMIT 5)
UNION SELECT a+10 FROM (SELECT a FROM t1 ORDER BY a LIMIT 2)
ORDER BY 1
LIMIT ii;

SELECT a FROM (SELECT * FROM t1 ORDER BY a LIMIT 5)
INTERSECT SELECT a FROM (SELECT a FROM t1 ORDER BY a LIMIT 2)
ORDER BY 1
LIMIT ii;

SELECT a FROM (SELECT * FROM t1 ORDER BY a LIMIT 5)
EXCEPT SELECT a FROM (SELECT a FROM t1 ORDER BY a LIMIT 2)
ORDER BY 1
LIMIT ii;

SELECT 0 FROM (SELECT * FROM t1 LIMIT 3)
UNION ALL SELECT 9 FROM (SELECT a FROM t1 LIMIT 4)
ORDER BY 1
LIMIT ii;

SELECT 0 FROM (SELECT * FROM t1 LIMIT 3)
UNION SELECT 9 FROM (SELECT a FROM t1 LIMIT 4)
ORDER BY 1
LIMIT ii;

SELECT 0 FROM (SELECT * FROM t1 LIMIT 3)
EXCEPT SELECT 9 FROM (SELECT a FROM t1 LIMIT 4)
ORDER BY 1
LIMIT ii;

SELECT 0 FROM (SELECT * FROM t1 LIMIT 3)
UNION ALL SELECT 9 FROM (SELECT a FROM t1 LIMIT 4)
UNION ALL SELECT 88 FROM (SELECT a FROM t1 LIMIT 2)
ORDER BY 1
LIMIT ii;

SELECT a FROM (SELECT * FROM t1 ORDER BY a LIMIT 3)
UNION ALL SELECT a+10 FROM (SELECT a FROM t1 ORDER BY a LIMIT 4)
UNION ALL SELECT a+20 FROM (SELECT a FROM t1 ORDER BY a LIMIT 2)
ORDER BY 1
LIMIT ii;

SELECT a FROM (SELECT * FROM t1 ORDER BY a LIMIT 3)
UNION SELECT a+10 FROM (SELECT a FROM t1 ORDER BY a LIMIT 4)
UNION SELECT a+20 FROM (SELECT a FROM t1 ORDER BY a LIMIT 2)
ORDER BY 1
LIMIT ii;

SELECT 9 FROM (SELECT * FROM t1)
UNION ALL SELECT a FROM (SELECT a FROM t1 ORDER BY a)
LIMIT ii;

SELECT a FROM (SELECT * FROM t1 ORDER BY a)
EXCEPT SELECT a FROM (SELECT a FROM t1 ORDER BY a LIMIT ii)
ORDER BY a DESC
LIMIT jj;

SELECT a FROM (SELECT * FROM t1 ORDER BY a)
UNION ALL SELECT a FROM (SELECT a FROM t1 ORDER BY a)
LIMIT ii;

SELECT 0 FROM (SELECT * FROM t1)
UNION ALL SELECT 9 FROM (SELECT a FROM t1)
LIMIT 42;

SELECT 0 FROM (SELECT * FROM t1)
UNION SELECT 9 FROM (SELECT a FROM t1)
LIMIT ii;

SELECT * FROM (SELECT * FROM t1 ORDER BY a LIMIT 3)
UNION ALL SELECT 9 FROM (SELECT a FROM t1)
LIMIT 42;

SELECT 9 FROM (SELECT * FROM t1)
UNION ALL SELECT a FROM (SELECT a FROM t1 ORDER BY a LIMIT 3)
LIMIT ii;

SELECT a FROM (SELECT * FROM t1 ORDER BY a LIMIT 3)
UNION ALL SELECT a FROM (SELECT a FROM t1 ORDER BY a LIMIT 3)
LIMIT ii;

-- ===tkt-3998683a16.test===
CREATE TABLE t1(x, y REAL);
INSERT INTO t1 VALUES(1, '1.0');
INSERT INTO t1 VALUES(2, '.125');
INSERT INTO t1 VALUES(3, '123.');
INSERT INTO t1 VALUES(4, '123.e+2');
INSERT INTO t1 VALUES(5, '.125e+3');
INSERT INTO t1 VALUES(6, '123e4');
INSERT INTO t1 VALUES(11, '  1.0');
INSERT INTO t1 VALUES(12, '  .125');
INSERT INTO t1 VALUES(13, '  123.');
INSERT INTO t1 VALUES(14, '  123.e+2');
INSERT INTO t1 VALUES(15, '  .125e+3');
INSERT INTO t1 VALUES(16, '  123e4');
INSERT INTO t1 VALUES(21, '1.0  ');
INSERT INTO t1 VALUES(22, '.125  ');
INSERT INTO t1 VALUES(23, '123.  ');
INSERT INTO t1 VALUES(24, '123.e+2  ');
INSERT INTO t1 VALUES(25, '.125e+3  ');
INSERT INTO t1 VALUES(26, '123e4  ');
SELECT x FROM t1 WHERE typeof(y)=='real' ORDER BY x;

-- ===tkt-3fe897352e.test===
PRAGMA encoding=UTF8;
CREATE TABLE t1(x);
INSERT INTO t1 VALUES(hex_to_utf16be('D800'));
SELECT hex(x) FROM t1;

DELETE FROM t1;
INSERT INTO t1 VALUES(hex_to_utf16le('00D8'));
SELECT hex(x) FROM t1;

DELETE FROM t1;
INSERT INTO t1 VALUES(hex_to_utf16be('DFFF'));
SELECT hex(x) FROM t1;

DELETE FROM t1;
INSERT INTO t1 VALUES(hex_to_utf16le('FFDF'));
SELECT hex(x) FROM t1;

-- ===tkt-4a03edc4c8.test===
CREATE TABLE t1(
a INTEGER PRIMARY KEY ON CONFLICT REPLACE,
b UNIQUE ON CONFLICT FAIL
);
INSERT INTO t1 VALUES(1, 1);
INSERT INTO t1 VALUES(2, 2);

PRAGMA integrity_check;

SELECT * FROM t1 ORDER BY a;

-- ===tkt-5ee23731f.test===
CREATE TABLE t1(x UNIQUE);
INSERT INTO t1 VALUES(1);
INSERT INTO t1 VALUES(2);
INSERT INTO t1 SELECT x+2 FROM t1;
INSERT INTO t1 SELECT x+4 FROM t1;
INSERT INTO t1 SELECT x+8 FROM t1;

SELECT rowid, x FROM t1 ORDER BY x;

UPDATE t1 SET x=x+1 WHERE rowid=:rowid;

-- ===tkt-78e04e52ea.test===
CREATE TABLE ""("" UNIQUE);
CREATE TABLE t2(x);
INSERT INTO "" VALUES(1);
INSERT INTO t2 VALUES(2);
SELECT * FROM "", t2;

PRAGMA table_info("");

CREATE INDEX i1 ON ""("" COLLATE nocase);

EXPLAIN QUERY PLAN SELECT * FROM "" WHERE "" LIKE 'abc%';

DROP TABLE "";
SELECT name FROM sqlite_master;

CREATE INDEX "" ON t2(x);
EXPLAIN QUERY PLAN SELECT * FROM t2 WHERE x=5;

DROP INDEX "";
EXPLAIN QUERY PLAN SELECT * FROM t2 WHERE x=2;

-- ===tkt-80ba201079.test===
CREATE TABLE t1(a);
INSERT INTO t1 VALUES('A');
CREATE TABLE t2(b);
INSERT INTO t2 VALUES('B');
CREATE TABLE t3(c);
INSERT INTO t3 VALUES('C');
SELECT * FROM t1, t2
WHERE (a='A' AND b='X')
OR (a='A' AND EXISTS (SELECT * FROM t3 WHERE c='C'));

CREATE INDEX i1 ON t1(a);
SELECT * FROM t1, t2
WHERE (a='A' AND b='X')
OR (a='A' AND EXISTS (SELECT * FROM t3 WHERE c='C'));

SELECT * FROM t1, t2
WHERE (a='A' AND b='X')
OR (a='A' AND EXISTS (SELECT * FROM t3 WHERE c='C'));

EXPLAIN 
SELECT * FROM t1, t2
WHERE (a='A' AND b='X')
OR (a='A' AND EXISTS (SELECT * FROM t3 WHERE c='C'));

EXPLAIN 
SELECT * FROM t1, t2
WHERE (a='A' AND b='X')
OR (a='A' AND EXISTS (SELECT * FROM t3 WHERE c='C'));

CREATE TABLE entry_types (
id     integer primary key,
name   text
);
INSERT INTO "entry_types" VALUES(100,'cli_command');
INSERT INTO "entry_types" VALUES(300,'object_change');
CREATE TABLE object_changes (
change_id    integer primary key,
system_id    int,
obj_id       int,
obj_context  text,
change_type  int,
command_id   int
);
INSERT INTO "object_changes" VALUES(1551,1,114608,'exported_pools',1,2114);
INSERT INTO "object_changes" VALUES(2048,1,114608,'exported_pools',2,2319);
CREATE TABLE timeline (
rowid        integer primary key,
timestamp    text,
system_id    int,
entry_type   int,
entry_id     int
);
INSERT INTO "timeline" VALUES(6735,'2010-11-21 17:08:27.000',1,300,2048);
INSERT INTO "timeline" VALUES(6825,'2010-11-21 17:09:21.000',1,300,2114);
SELECT entry_type,
entry_types.name,
entry_id
FROM timeline JOIN entry_types ON entry_type = entry_types.id
WHERE (entry_types.name = 'cli_command' AND entry_id=2114)
OR (entry_types.name = 'object_change'
AND entry_id IN (SELECT change_id
FROM object_changes
WHERE obj_context = 'exported_pools'));

CREATE INDEX timeline_entry_id_idx on timeline(entry_id);
SELECT entry_type,
entry_types.name,
entry_id
FROM timeline JOIN entry_types ON entry_type = entry_types.id
WHERE (entry_types.name = 'cli_command' AND entry_id=2114)
OR (entry_types.name = 'object_change'
AND entry_id IN (SELECT change_id
FROM object_changes
WHERE obj_context = 'exported_pools'));

SELECT entry_type,
entry_types.name,
entry_id
FROM timeline JOIN entry_types ON entry_type = entry_types.id
WHERE (entry_types.name = 'cli_command' AND entry_id=2114)
OR (entry_types.name = 'object_change'
AND entry_id IN (SELECT change_id
FROM object_changes
WHERE obj_context = 'exported_pools'));

-- ===tkt-80e031a00f.test===
CREATE TABLE t4(a UNIQUE);
CREATE TABLE t5(b INTEGER PRIMARY KEY);
CREATE TABLE t6(c);
INSERT INTO t4 VALUES(2);
INSERT INTO t4 VALUES(3);
INSERT INTO t4 VALUES(4);
INSERT INTO t5 SELECT * FROM t4;
INSERT INTO t6 SELECT * FROM t4;
CREATE TABLE t4n(a UNIQUE);
CREATE TABLE t6n(c);
INSERT INTO t4n SELECT * FROM t4;
INSERT INTO t4n VALUES(null);
INSERT INTO t6n SELECT * FROM t4n;
CREATE TABLE t7(a UNIQUE);
CREATE TABLE t8(c);
INSERT INTO t7 VALUES('b');
INSERT INTO t7 VALUES('c');
INSERT INTO t7 VALUES('d');
INSERT INTO t8 SELECT * FROM t7;
CREATE TABLE t7n(a UNIQUE);
CREATE TABLE t8n(c);
INSERT INTO t7n SELECT * FROM t7;
INSERT INTO t7n VALUES(null);
INSERT INTO t8n SELECT * FROM t7n;

SELECT 1 IN t4;

-- ===tkt-8454a207b9.test===
CREATE TABLE t1(a);
INSERT INTO t1 VALUES(1);
ALTER TABLE t1 ADD COLUMN b TEXT DEFAULT -123.0;
SELECT b, typeof(b) FROM t1;

ALTER TABLE t1 ADD COLUMN c TEXT DEFAULT -123.5;
SELECT c, typeof(c) FROM t1;

ALTER TABLE t1 ADD COLUMN e DEFAULT -123.0;
SELECT e, typeof(e) FROM t1;

ALTER TABLE t1 ADD COLUMN f DEFAULT -123.5;
SELECT f, typeof(f) FROM t1;

ALTER TABLE t1 ADD COLUMN g DEFAULT -9223372036854775808;
SELECT g, typeof(g) FROM t1;

ALTER TABLE t1 ADD COLUMN h DEFAULT 9223372036854775807;
SELECT h, typeof(h) FROM t1;

-- ===tkt-94c04eaadb.test===
CREATE TABLE t1(a, b);

CREATE TABLE t2(x, y);

INSERT INTO t2 VALUES(1, 2);

SELECT * FROM t2;

SELECT * FROM t2;

-- ===tkt-9d68c883.test===
PRAGMA page_size = 1024;
PRAGMA auto_vacuum = 2;
CREATE TABLE t3(x);
CREATE TABLE t4(x);
CREATE TABLE t5(x);
INSERT INTO t5 VALUES(randomblob(1500));
CREATE TABLE t7(x);
CREATE TABLE t8(x);

BEGIN;
DELETE FROM t5;
INSERT INTO t8 VALUES('hello world');

PRAGMA integrity_check;

-- ===tkt-b351d95f9.test===
CREATE table t1(a,b);
INSERT INTO t1 VALUES('name1','This is a test');
INSERT INTO t1 VALUES('name2','xyz');
CREATE TABLE t2(x,y);
INSERT INTO t2 SELECT a, CASE b WHEN 'xyz' THEN null ELSE b END FROM t1;
SELECT x, y FROM t2 ORDER BY x;

DELETE FROM t2;
INSERT INTO t2 SELECT a, coalesce(b,a) FROM t1;
SELECT x, y FROM t2 ORDER BY x;

DELETE FROM t2;
INSERT INTO t2 SELECT a, coalesce(b,a) FROM t1;
SELECT x, y BETWEEN 'xy' AND 'xz' FROM t2 ORDER BY x;

-- ===tkt-cbd054fa6b.test===
CREATE TABLE t1(a INTEGER PRIMARY KEY, b TEXT UNIQUE NOT NULL);
CREATE INDEX t1_x ON t1(b);
INSERT INTO t1 VALUES (NULL, '');
INSERT INTO t1 VALUES (NULL, 'A');
INSERT INTO t1 VALUES (NULL, 'B');
INSERT INTO t1 VALUES (NULL, 'C');
INSERT INTO t1 VALUES (NULL, 'D');
INSERT INTO t1 VALUES (NULL, 'E');
INSERT INTO t1 VALUES (NULL, 'F');
INSERT INTO t1 VALUES (NULL, 'G');
INSERT INTO t1 VALUES (NULL, 'H');
INSERT INTO t1 VALUES (NULL, 'I');
SELECT count(*) FROM t1;

ANALYZE;

SELECT tbl,idx,group_concat(sample,' ') 
FROM sqlite_stat2 
WHERE idx = 't1_x' 
GROUP BY tbl,idx;

DROP TABLE t1;
CREATE TABLE t1(a INTEGER PRIMARY KEY, b BLOB UNIQUE NOT NULL);
CREATE INDEX t1_x ON t1(b);
INSERT INTO t1 VALUES(NULL, X'');
INSERT INTO t1 VALUES(NULL, X'41');
INSERT INTO t1 VALUES(NULL, X'42');
INSERT INTO t1 VALUES(NULL, X'43');
INSERT INTO t1 VALUES(NULL, X'44');
INSERT INTO t1 VALUES(NULL, X'45');
INSERT INTO t1 VALUES(NULL, X'46');
INSERT INTO t1 VALUES(NULL, X'47');
INSERT INTO t1 VALUES(NULL, X'48');
INSERT INTO t1 VALUES(NULL, X'49');
SELECT count(*) FROM t1;

ANALYZE;

SELECT tbl,idx,group_concat(sample,' ') 
FROM sqlite_stat2 
WHERE idx = 't1_x' 
GROUP BY tbl,idx;

-- ===tkt-d11f09d36e.test===
PRAGMA synchronous = NORMAL;
PRAGMA cache_size = 10;
CREATE TABLE t1(x, y, UNIQUE(x, y));
BEGIN;

INSERT INTO t1 VALUES(i, i);

BEGIN;
UPDATE t1 set x = x+10000;
ROLLBACK;

PRAGMA integrity_check;

SAVEPOINT tr;
UPDATE t1 set x = x+10000;
ROLLBACK TO tr;
RELEASE tr;

PRAGMA integrity_check;

-- ===tkt-d82e3f3721.test===
CREATE TABLE t1(a INTEGER PRIMARY KEY AUTOINCREMENT, b);
INSERT INTO t1 VALUES(null,'abc');
INSERT INTO t1 VALUES(null,'def');
DELETE FROM t1;
INSERT INTO t1 VALUES(null,'ghi');
SELECT * FROM t1;

CREATE TEMP TABLE t2(a INTEGER PRIMARY KEY AUTOINCREMENT, b);
INSERT INTO t2 VALUES(null,'jkl');
INSERT INTO t2 VALUES(null,'mno');
DELETE FROM t2;
INSERT INTO t2 VALUES(null,'pqr');
SELECT * FROM t2;

SELECT 'main', * FROM main.sqlite_sequence
UNION ALL
SELECT 'temp', * FROM temp.sqlite_sequence
ORDER BY 2;

VACUUM;
SELECT 'main', * FROM main.sqlite_sequence
UNION ALL
SELECT 'temp', * FROM temp.sqlite_sequence
ORDER BY 2;

CREATE TEMP TABLE t3(x);
INSERT INTO t3 VALUES(1);

SELECT * FROM temp.t3 JOIN main.t3;

VACUUM;
SELECT * FROM temp.t3 JOIN main.t3;

-- ===tkt-f3e5abed55.test===
ATTACH 'test.db2' AS aux;
CREATE TABLE main.t1(a, b);
CREATE TABLE aux.t2(c, d);

BEGIN; SELECT * FROM t1;

BEGIN;
INSERT INTO t1 VALUES(1, 2);
INSERT INTO t2 VALUES(1, 2);

ATTACH 'test.db2' AS aux;
BEGIN;
INSERT INTO t1 VALUES(3, 4);
INSERT INTO t2 VALUES(3, 4);

BEGIN; SELECT * FROM t1;

COMMIT;
SELECT * FROM t1;
SELECT * FROM t2;

ATTACH 'test.db2' AS aux;
SELECT * FROM t1;
SELECT * FROM t2;

-- ===tkt-f777251dc7a.test===
CREATE TEMP TABLE t1(x UNIQUE);
INSERT INTO t1 VALUES(1);
CREATE TABLE t2(x, y);
INSERT INTO t2 VALUES(1, 2);
CREATE TEMP TABLE t3(w, z);

INSERT OR ROLLBACK INTO t1 VALUES(1);

DROP TABLE IF EXISTS t1;
DROP TABLE IF EXISTS t2;
DROP TABLE IF EXISTS t3;
CREATE TEMP TABLE t1(x UNIQUE);
INSERT INTO t1 VALUES(1);
CREATE TABLE t2(x, y);
INSERT INTO t2 VALUES(1, 2);

BEGIN IMMEDIATE;
CREATE TEMP TABLE t3(w, z);

DROP TABLE IF EXISTS t1;
DROP TABLE IF EXISTS t2;
DROP TABLE IF EXISTS t3;
CREATE TEMP TABLE t1(x);
CREATE TABLE t2(x);
CREATE TABLE t3(x);
INSERT INTO t1 VALUES(1);
INSERT INTO t1 VALUES(2);
INSERT INTO t2 VALUES(1);
INSERT INTO t2 VALUES(2);

INSERT INTO t3 VALUES('hello');

SELECT ins() AS x FROM t2 UNION ALL SELECT ins() AS x FROM t1;

SELECT * FROM t3;

-- ===tkt-f973c7ac31.test===
CREATE TABLE t(c1 INTEGER, c2 INTEGER);
INSERT INTO t VALUES(5, 5);
INSERT INTO t VALUES(5, 4);

SELECT * FROM t WHERE c1 = 5 AND c2>'0' AND c2<=5 ORDER BY c2 ASC;

SELECT * FROM t WHERE c1 = 5 AND c2>'0' AND c2<='5' ORDER BY c2 ASC;

SELECT * FROM t WHERE c1 = 5 AND c2>0 AND c2<='2' ORDER BY c2 DESC;

SELECT * FROM t WHERE c1 = 5 AND c2>0 AND c2<=5 ORDER BY c2 DESC;

SELECT * FROM t WHERE c1 = 5 AND c2>0 AND c2<='5' ORDER BY c2 DESC;

SELECT * FROM t WHERE c1 = 5 AND c2>'0' AND c2<=5 ORDER BY c2 DESC;

SELECT * FROM t WHERE c1 = 5 AND c2>'0' AND c2<='5' ORDER BY c2 DESC;

SELECT * FROM t WHERE c1 = 5 AND c2>0 AND c2<='2' ORDER BY c2 ASC;

SELECT * FROM t WHERE c1 = 5 AND c2>0 AND c2<=5 ORDER BY c2 ASC;

SELECT * FROM t WHERE c1 = 5 AND c2>0 AND c2<='5' ORDER BY c2 ASC;

-- ===tkt-fc62af4523.test===
PRAGMA cache_size = 10;
PRAGMA journal_mode = persist;
CREATE TABLE t1(a UNIQUE, b UNIQUE);
INSERT INTO t1 SELECT randomblob(200), randomblob(300);
INSERT INTO t1 SELECT randomblob(200), randomblob(300) FROM t1; INSERT INTO t1 SELECT randomblob(200), randomblob(300) FROM t1; INSERT INTO t1 SELECT randomblob(200), randomblob(300) FROM t1; INSERT INTO t1 SELECT randomblob(200), randomblob(300) FROM t1; INSERT INTO t1 SELECT randomblob(200), randomblob(300) FROM t1; INSERT INTO t1 SELECT randomblob(200), randomblob(300) FROM t1; -- 64;

PRAGMA integrity_check;
SELECT count(*) FROM t1;

PRAGMA cache_size = 10;
BEGIN;
UPDATE t1 SET b = randomblob(400);
UPDATE t1 SET a = randomblob(201);

PRAGMA journal_mode = DELETE;

PRAGMA integrity_check;
SELECT count(*) FROM t1;